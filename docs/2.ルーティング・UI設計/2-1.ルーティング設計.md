# ルーティング設計

## 実装済みルーティング

### / ランディングページ

- **実装状況**: ✅ 完成
- **機能**:
  - 認証ページへのリンク
  - アプリの紹介（About, Features セクション）
  - スムーズスクロール機能
- **コンポーネント**: `landing.tsx`
  - Header: ナビゲーション、認証ボタン
  - Top: メインビジュアル、サインイン・アップボタン
  - About: アプリの目的説明
  - Features: 機能紹介

### /auth/ 認証ページ

- **実装状況**: ✅ 完成
- **機能**:
  - AuthContext でログイン情報供給
  - 既にログインしていたら `/app` にリダイレクト
  - 背景画像とブラーカードによる UI
- **共通コンポーネント**:
  - `auth.tsx`: ルーティングとレイアウト
  - `formGroup.tsx`: フォーム部品
  - `moveCard.tsx`: 画面間遷移リンク

#### /auth/login ログインページ

- **実装状況**: ✅ 完成
- **機能**: Firebase Authentication でログイン
- **コンポーネント**: `signin.tsx`

#### /auth/registar 新規登録

- **実装状況**: ✅ 完成
- **機能**:
  - アカウント作成
  - メールアドレス認証メール送信
  - 利用規約同意チェック
- **コンポーネント**: `registar.tsx`

#### /auth/reset パスワードリセット

- **実装状況**: ✅ 完成
- **機能**: パスワードリセットメール送信
- **コンポーネント**: `reset.tsx`

### /app/ メインアプリケーション

- **実装状況**: 🚧 基本構造のみ
- **認証**: ログアウト状態なら `/auth/login` にリダイレクト
- **現在の機能**: ヘッダーナビゲーションとルーティング枠組み

#### /app/ ホーム（ダッシュボード）

- **実装状況**: ❌ 未実装
- **予定機能**:
  - 更新情報表示
  - 自分の情報簡易表示
  - メール未認証 UI 表示
  - 初期設定未完了時の案内 UI

#### /app/scouts スカウト検索・管理

- **実装状況**: ❌ 未実装
- **予定機能**: スカウト情報の検索・閲覧・編集

#### /app/group グループ管理

- **実装状況**: ❌ 未実装
- **予定機能**: 団体所属者の情報表示・管理

#### /app/setting 設定画面

- **実装状況**: ❌ 未実装
- **予定機能**: ユーザー設定、アカウント管理

## URL 設計パターン

```
/ (ランディング)
├── /auth/*          # 認証関連
│   ├── /auth/login
│   ├── /auth/registar
│   └── /auth/reset
└── /app/*           # メインアプリ
    ├── /app/        # ダッシュボード
    ├── /app/scouts  # スカウト管理
    ├── /app/group   # グループ管理
    └── /app/setting # 設定
```

## 認証フロー

1. 未認証ユーザーが `/app/*` にアクセス → `/auth/login` にリダイレクト
2. 認証済みユーザーが `/auth/*` にアクセス → `/app` にリダイレクト
3. ランディングページ（`/`）は誰でもアクセス可能

## 実装詳細

- **ルーター**: React Router 7.1.1 を使用
- **認証管理**: AuthContext で状態管理
- **ネストルーティング**: App.tsx で基本振り分け、各領域で詳細ルーティング
- **プロテクション**: 認証状態に基づいた自動リダイレクト
