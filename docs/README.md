# My History of Scouting - ドキュメント

ボーイスカウトの団運営支援アプリケーションの設計ドキュメントです。

## 1. 基本設計

### 1-1. 基本

- [1-1-1. アプリの目的](1.基本設計/1-1.基本/1-1-1.アプリの目的.md)
- [1-1-2. 使用技術](1.基本設計/1-1.基本/1-1-2.使用技術.md)
- [1-1-3. ファイル構造](1.基本設計/1-1.基本/1-1-3.ファイル構造.md)

### 1-2. 登録できる情報

- [1-2-1. 使用者情報](1.基本設計/1-2.登録できる情報/1-2-1.使用者情報.md)
- [1-2-2. スカウトごとの情報](1.基本設計/1-2.登録できる情報/1-2-2.スカウトごとの情報.md)

### 1-3. その他

- [1-3. ロールの役割](1.基本設計/1-3.ロールの役割.md)

## 2. ルーティング・UI 設計

- [2-1. ルーティング設計](2.ルーティング・UI設計/2-1.ルーティング設計.md)

## 3. データベース設計

- [3-1. データベース設計](3.データベース設計/3-1.データベース設計.md)
- [3-2. users コレクション](3.データベース設計/3-2.usersコレクション.md)
- [3-3. scouts コレクション](3.データベース設計/3-3.scoutsコレクション.md)
- [3-4. groups コレクション](3.データベース設計/3-4.groupsコレクション.md)
- [3-5. Firestore セキュリティルール設計](3.データベース設計/3-5.Firestoreセキュリティルール設計.md)

## 4. コード設計

- [4-1. コード設計-基本](4.コード設計/4-1.コード設計-基本.md)
- [4-2. コード設計-Landing 領域](4.コード設計/4-2.コード設計-Landing領域.md)
- [4-3. コード設計-Auth 領域](4.コード設計/4-3.コード設計-Auth領域.md)
- [4-4. コード設計-App 領域](4.コード設計/4-4.コード設計-App領域.md)
- [4-5. コード設計-common 領域](4.コード設計/4-5.コード設計-common領域.md)

## 5. 実装計画

- [5-1. 実装計画・現状と今後の予定](5.実装計画/5-1.次期実装予定.md)

## 技術スタック

- **フロントエンド**: React 19.1.0 + Vite 6.0.5 + TypeScript ~5.6.2
- **UI**: Bootstrap 5.3.3 (react-bootstrap 2.10.8)
- **ルーティング**: React Router 7.7.1
- **スクロール**: React-Scroll 1.9.0
- **アイコン**: FontAwesome 6.7.2
- **データ処理**: Lodash 4.17.21
- **バックエンド**: Firebase 11.2.0 (Authentication + Firestore + Hosting + Analytics)
- **開発ツール**: ESLint 9.19.0, TypeScript ESLint 8.23.0, TSX 4.20.3
- **静的サイト生成**: カスタムビルドシステム（TSX + Marked）

## アーキテクチャ

アプリケーションは以下の **6 つの主要領域** に分割されています：

1. **Landing 系（静的生成）**: 広告宣伝用のトップページ（✅ 完全実装済み）
2. **Auth 系**: 認証・ログイン機能（✅ 完全実装済み）
3. **App 系**: メインアプリケーション（🚧 基本機能実装済み）
4. **Firebase 系**: Firebase 関連機能（✅ 基本機能実装済み）
5. **Style 系**: UI コンポーネント（✅ 基本コンポーネント実装済み）
6. **Tools 系**: ユーティリティ機能（✅ 基本機能実装済み）

## 実装状況（2025 年 1 月時点）

### ✅ 完全実装済み機能

#### 認証システム

- ログイン・新規登録・パスワードリセット・メール認証
- AuthContext による認証状態管理
- 自動リダイレクト機能
- 統一された UI（背景画像 + ブラーカード）

#### 基盤システム

- Firebase 初期化と設定
- Firestore セキュリティルール実装
- 型安全な TypeScript 実装
- エラーハンドリング機能

#### 静的サイト生成

- ランディングページ（staticBuilder）
- SEO 最適化された静的 HTML 配信
- マーケティング用コンテンツ

#### 開発環境

- React 19 + TypeScript + Vite 環境
- ESLint + 品質管理ツール
- Firebase Hosting CI/CD
- マスターデータ管理（Python）

### 🚧 部分実装済み機能

#### スカウト管理機能

- ✅ 基本的なダッシュボード（ロール別ホーム）
- ✅ スカウト検索・一覧表示機能
- ✅ 新規スカウト登録ウィザード
- ✅ スカウト詳細表示・編集機能
- ✅ プロフィール・技能章・イベント管理
- 🚧 高度な検索・フィルタ機能
- 🚧 バッチ操作機能

#### データベース設計

- ✅ users, scouts, groups コレクション設計
- ✅ 権限制御（view/edit/admin）実装
- ✅ 基本的な CRUD 操作
- 🚧 複雑なクエリ最適化
- 🚧 データ分析機能

### ❌ 未実装機能

#### グループ管理機能

- グループ詳細設定画面（/app/group）
- メンバー招待・管理機能
- 階層的組織管理
- グループ統計・レポート

#### ユーザー設定機能

- プロフィール詳細編集（/app/setting）
- アカウント設定管理
- 通知設定
- データエクスポート

#### 高度な機能

- 進級・技能章の自動判定
- 活動レポート自動生成
- データ分析・可視化
- PWA 対応

## 特徴的な実装

### 1. 静的サイト生成

- `staticBuilder/` で TSX コンポーネントから静的 HTML を生成
- ランディングページとヘルプページを高速配信
- SEO 最適化とパフォーマンス向上

### 2. 型安全性

- 厳密な TypeScript 型定義による開発時エラー防止
- Firebase Firestore のデータ型も厳密に管理
- コンポーネント間のデータ受け渡しも型安全

### 3. パフォーマンス最適化

- React 19 の新機能と lazy loading による最適化
- Vite の高速ビルドと HMR
- ローカルキャッシュによるデータ取得の最適化

### 4. セキュリティ

- Firebase セキュリティルールによる厳密なアクセス制御
- メール認証必須システム
- ロール別 UI 制御

### 5. マスターデータ管理

- Python スクリプトによる CSV から JSON への変換
- ボーイスカウト用の技能章・進級課程データを管理
- ビルド時に最新データを静的ファイルとして組み込み

## 今後の開発予定

### 短期（3 ヶ月以内）

- グループ管理機能の完成
- 設定画面の実装
- スカウト管理機能の強化
- パフォーマンス最適化

### 中期（6 ヶ月以内）

- 分析・レポート機能
- モバイル対応（PWA）
- 外部連携機能
- セキュリティ強化

### 長期（12 ヶ月以内）

- API プラットフォーム化
- 多団体対応
- AI/ML 機能
- マイクロフロントエンド化

詳細は [実装計画](5.実装計画/5-1.次期実装予定.md) を参照してください。
